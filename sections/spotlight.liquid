<div class="spotlight-section">
  <div class="page-width">
  
    <div class="spotligh-title">
      <a href="{{ section.settings.blog_link | default:'#' }}">
        <h2 class="title">{{ section.settings.heading | escape }}</h2>
      </a>
    </div>
    
    <div class="spotlight-wrapper grid grid--1-col grid--2-col grid--4-col-tablet">
      {% for article in blogs[section.settings.blog].articles limit:section.settings.blog_per_row %}
       
        <div class="spotlight-block grid__item">
           <a href="{{ article.url }}">
            <div class="image-box">
              <img src="{{ article.image.src | img_url: 'master' }}" alt="{{ article.title.alt }}">
            </div>
            <div class="description">
              {{ article.excerpt | strip_html | truncatewords: 25 }}
            </div>
             </a>
        </div>
      {% endfor %}
    </div>
    <div class="spotlight-text">
      {% if section.settings.content !=blank %}
        <p>{{ section.settings.content }}</p>
      {% endif %}  
      {% if section.settings.button_heading !=blank %}
        <a href="{{ section.settings.link | default:'#' }}" class="button button--secondary">{{ section.settings.button_heading }}</a>
      {% endif %}  
    </div>
  </div>
</div>

<style>
  .spotligh-title a {
    text-decoration: none;
  }
</style>

{% schema %}
{
  "name": "t:sections.spotlight.name",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.spotlight.settings.heading.label"
    },
    {
      "type": "url",
      "id": "blog_link",
      "label": "t:sections.spotlight.settings.blog_link.label"
    },
    {
      "type": "blog",
      "id": "blog",
      "label": "t:sections.spotlight.settings.blog.label"
    },
    {
      "type": "range",
      "id": "blog_per_row",
      "min": 2,
      "max": 20,
      "step": 2,
      "label": "t:sections.spotlight.settings.blog_per_row.label",
      "default": 4
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "t:sections.spotlight.settings.content.label"
    },
    {
      "type": "text",
      "id": "button_heading",
      "label": "t:sections.spotlight.settings.button_heading.label"
    },
    {
      "type": "url",
      "id": "link",
      "label": "t:sections.spotlight.settings.link.label"
    }
  ],
  "presets": [
    {
      "name": "Spotlight"
    }
  ]
}
{% endschema %}
